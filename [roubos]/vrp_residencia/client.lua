local Tunnel = module("vrp","lib/Tunnel")
local Proxy = module("vrp","lib/Proxy")
vRP = Proxy.getInterface("vRP")
-----------------------------------------------------------------------------------------------------------------------------------------
-- CONEXÃO
-----------------------------------------------------------------------------------------------------------------------------------------
src = {}
Tunnel.bindInterface("vrp_residencia",src)
vSERVER = Tunnel.getInterface("vrp_residencia")
-----------------------------------------------------------------------------------------------------------------------------------------
-- VARIAVEIS
-----------------------------------------------------------------------------------------------------------------------------------------
local check = {}
local segundos = 0
local locker = nil
local roubando = false
local CoordenadasX = 0.0
local CoordenadasY = 0.0
local CoordenadasZ = 0.0
-----------------------------------------------------------------------------------------------------------------------------------------
-- HOUSES
-----------------------------------------------------------------------------------------------------------------------------------------
local houses = {
	["LS01"] = {
		["invadir"] = { ['x'] = 1295.99, ['y'] = -590.25, ['z'] = 71.74 },
		["evadir"] = { ['x'] = 1296.07, ['y'] = -596.39, ['z'] = 67.83 },
		["gavetas"] = { ['x'] = 1300.15, ['y'] = -586.39, ['z'] = 67.84 },
		["estante"] = { ['x'] = 1305.76, ['y'] = -585.99, ['z'] = 67.84 },
		["cabeceira"] = { ['x'] = 1305.8, ['y'] = -581.49, ['z'] = 67.84 },
		["mesinha"] = { ['x'] = 1306.84, ['y'] = -585.64, ['z'] = 67.84 },
		["televisao"] = { ['x'] = 1295.03, ['y'] = -578.48, ['z'] = 67.84 },
		["armario"] = { ['x'] = 1302.02, ['y'] = -580.2, ['z'] = 67.84 },
		["bau"] = { ['x'] = 1297.29, ['y'] = -580.05, ['z'] = 67.84 },
		["comoda"] = { ['x'] = 1297.95, ['y'] = -586.29, ['z'] = 67.84 },
		["roupas"] = { ['x'] = 1307.57, ['y'] = -580.67, ['z'] = 67.84 },
		["pia"] = { ['x'] = 1304.34, ['y'] = -579.74, ['z'] = 67.84 },
		["cama"] = { ['x'] = 1307.2, ['y'] = -583.48, ['z'] = 67.84 },
		["locker"] = { ['x'] = 1306.46, ['y'] = -579.31, ['z'] = 67.84 },
		["locker2"] = { ['x'] = 1309.15, ['y'] = -581.18, ['z'] = 67.84 }
	},
	["LS02"] = {
		["invadir"] = { ['x'] = 1323.42, ['y'] = -583.00, ['z'] = 73.24 },
		["evadir"] = { ['x'] =  1314.73, ['y'] = -601.55, ['z'] = 67.84 },
		["gavetas"] = { ['x'] = 1318.77, ['y'] = -591.24, ['z'] = 67.84 },
		["estante"] = { ['x'] = 1324.49, ['y'] = -590.93, ['z'] = 67.84 },
		["cabeceira"] = { ['x'] = 1324.31, ['y'] = -586.32, ['z'] = 67.84 },
		["mesinha"] = { ['x'] = 1325.93, ['y'] = -585.54, ['z'] = 67.84 },
		["televisao"] = { ['x'] = 1325.89, ['y'] = -588.05, ['z'] = 67.84 },
		["armario"] = { ['x'] = 1322.92, ['y'] = -584.41, ['z'] = 67.84 },
		["bau"] = { ['x'] = 1325.23, ['y'] = -590.61, ['z'] = 67.84 },
		["comoda"] = { ['x'] = 1315.97, ['y'] = -585.02, ['z'] = 67.84 },
		["roupas"] = { ['x'] = 1313.52, ['y'] = -583.35, ['z'] = 67.84 },
		["pia"] = { ['x'] = 1313.34, ['y'] = -590.74, ['z'] = 67.84 },
		["cama"] = { ['x'] = 1311.76, ['y'] = -589.7, ['z'] = 67.84 },
		["locker"] = { ['x'] = 1324.98, ['y'] = -584.12, ['z'] = 67.84 },
        ["locker2"] = { ['x'] = 1327.56, ['y'] = -586.07, ['z'] = 67.84 }
    }, 
    ["LS03"] = {
        ["invadir"] = { ['x'] = 1330.8, ['y'] =-608.37, ['z'] = 74.51 },
        ["evadir"] = { ['x'] = 1330.55, ['y'] =-616.07, ['z'] = 67.84 },
        ["gavetas"] = { ['x'] = 1337.08,['y'] = -606.66,['z'] = 67.84 },
        ["estante"] = { ['x'] = 1331.77,['y'] = -604.93,['z'] = 67.84 },
        ["cabeceira"] = { ['x'] = 1330.5,['y'] = -603.94,['z'] = 67.84 },
        ["mesinha"] = { ['x'] = 1333.66,['y'] = -597.94,['z'] = 67.84 },
        ["televisao"] = { ['x'] = 1335.88,['y'] = -598.98,['z'] = 67.84 },
        ["armario"] = { ['x'] = 1340.28,['y'] = -600.98,['z'] = 67.84 },
        ["bau"] = { ['x'] = 1343.52,['y'] = -607.77,['z'] = 67.84 },
        ["comoda"] = { ['x'] = 1343.69,['y'] = -602.98,['z'] = 67.84 },
        ["roupas"] = { ['x'] = 1345.62,['y'] = -602.9,['z'] = 67.84 },
        ["pia"] = { ['x'] = 1342.38,['y'] = -601.32,['z'] = 67.84 },
        ["cama"] = { ['x'] = 1307.2,['y'] = -583.48, ['z'] = 67.84 },
        ["locker"] = { ['x'] = 1344.36,['y'] = -601.38,['z'] = 67.85 },
        ["locker2"] = { ['x'] = 1309.15,['y'] = -581.18, ['z'] = 67.84 }
	},
	["LS04"] = {
		["invadir"] = { ['x'] = 1367.23, ['y'] = -623.62, ['z'] = 74.72 },
		["evadir"] = { ['x'] =  1366.96, ['y'] = -626.75, ['z'] = 67.84 },
		["gavetas"] = { ['x'] = 1366.88, ['y'] = -615.53, ['z'] = 67.84 },
		["estante"] = { ['x'] =  1372.52, ['y'] = -612.15, ['z'] = 67.84 },
		["cabeceira"] = { ['x'] = 1371.99, ['y'] = -609.97, ['z'] = 67.84 },
		["mesinha"] = { ['x'] = 1371.23, ['y'] = -607.21, ['z'] = 67.84 },
		["televisao"] = { ['x'] = 1369.9, ['y'] = -608.68, ['z'] = 67.84  },
		["armario"] = { ['x'] = 1367.85, ['y'] = -607.68, ['z'] = 67.84  },
		["bau"] = { ['x'] = 1365.92, ['y'] = -608.87, ['z'] = 67.84 },
		["comoda"] = { ['x'] = 1361.79, ['y'] = -610.86, ['z'] = 67.84 },
		["roupas"] = { ['x'] = 1358.83, ['y'] = -610.39, ['z'] = 67.84 },
		["pia"] = { ['x'] = 1361.59, ['y'] = -617.16, ['z'] = 67.84 },
		["cama"] = { ['x'] = 1360.03, ['y'] = -616.9, ['z'] = 67.84 },
		["locker"] = { ['x'] = 1372.79, ['y'] = -607.14, ['z'] = 67.84 },
        ["locker2"] = { ['x'] = 1369.64, ['y'] = -606.74, ['z'] = 67.84 }
    },
    ["LS05"] = {
        ["invadir"] = { ['x'] = 1399.37, ['y'] = -603.95, ['z'] = 74.49 },
        ["evadir"] = { ['x'] = 1381.63, ['y'] = -593.65, ['z'] = 67.84 },
        ["gavetas"] = { ['x'] = 1390.73, ['y'] = -600.31, ['z'] = 67.84 },
        ["estante"] = { ['x'] = 1392.51, ['y'] = -594.94, ['z'] = 67.84 },
        ["cabeceira"] = { ['x'] = 1393.69, ['y'] = -593.81, ['z'] = 67.84 },
        ["mesinha"] = { ['x'] = 1399.54, ['y'] = -597.05, ['z'] = 67.84 },
        ["televisao"] = { ['x'] = 1398.43, ['y'] = -599.24, ['z'] = 67.84 },
        ["armario"] = { ['x'] = 1396.3, ['y'] = -603.52, ['z'] = 67.84 },
        ["bau"] = { ['x'] = 1389.47, ['y'] = -606.59, ['z'] = 67.84 },
        ["comoda"] = { ['x'] = 1389.61, ['y'] = -605.73, ['z'] = 67.84 },
        ["roupas"] = { ['x'] = 1394.29, ['y'] = -606.86, ['z'] = 67.84 },
        ["pia"] = { ['x'] = 1394.31, ['y'] = -608.8, ['z'] = 67.84 },
        ["cama"] = { ['x'] = 1396.04, ['y'] = -605.76, ['z'] = 67.84 },
        ["locker"] = { ['x'] = 1395.7, ['y'] = -607.6, ['z'] = 67.84 },
        ["locker2"] = { ['x'] = 1392.39, ['y'] = -609.65, ['z'] = 67.84 }
    },
	["LS06"] = {
		["invadir"] = { ['x'] = 1404.64, ['y'] = -563.34, ['z'] = 74.5 },
		["evadir"] = { ['x'] =  1386.52, ['y'] = -574.09, ['z'] = 67.84 },
		["gavetas"] = { ['x'] = 1396.75, ['y'] = -568.89, ['z'] = 67.84 },
		["estante"] = { ['x'] = 1401.09, ['y'] = -572.49, ['z'] = 67.84 },
		["cabeceira"] = { ['x'] = 1401.94, ['y'] = -572.74, ['z'] = 67.84 },
		["mesinha"] = { ['x'] = 1403.76, ['y'] = -571.35, ['z'] = 67.84 },
		["televisao"] = { ['x'] = 1405.79, ['y'] = -569.18, ['z'] = 67.84 },
		["armario"] = { ['x'] = 1404.07, ['y'] = -568.9, ['z'] = 67.84  },
		["bau"] = { ['x'] = 1404.03, ['y'] = -566.67, ['z'] = 67.84 },
		["comoda"] = { ['x'] = 1402.4, ['y'] = -565.29, ['z'] = 67.84 },
		["roupas"] = { ['x'] = 1398.55, ['y'] = -562.13, ['z'] = 67.84 },
		["pia"] = { ['x'] = 1397.98, ['y'] = -559.53, ['z'] = 67.84 },
		["cama"] = { ['x'] = 1392.83, ['y'] = -564.88, ['z'] = 67.84 },
		["locker"] = { ['x'] = 1403.95, ['y'] = -572.63, ['z'] = 67.84 },
        ["locker2"] = { ['x'] = 1405.92, ['y'] = -567.55, ['z'] = 68.26 } 
    },
    ["LS07"] = {
        ["invadir"] = { ['x'] = 1380.7, ['y'] = -542.57, ['z'] = 74.5 },
        ["evadir"] = { ['x'] = 1370.75, ['y'] = -561.58, ['z'] = 67.84 },
        ["gavetas"] = { ['x'] = 1374.72, ['y'] = -550.83, ['z'] = 67.84 },
        ["estante"] = { ['x'] = 1369.2, ['y'] = -550.61, ['z'] = 67.84 },
        ["cabeceira"] = { ['x'] = 1367.8, ['y'] = -549.71, ['z'] = 67.84 },
        ["mesinha"] = { ['x'] = 1369.37, ['y'] = -543.16, ['z'] = 67.84 },
        ["televisao"] = { ['x'] = 1371.82, ['y'] = -543.55, ['z'] = 67.84 },
        ["armario"] = { ['x'] = 1376.43, ['y'] = -544.68, ['z'] = 67.84 },
        ["bau"] = { ['x'] = 1380.28, ['y'] = -550.47, ['z'] = 67.84 },
        ["comoda"] = { ['x'] = 1381.22, ['y'] = -550.41, ['z'] = 67.84 },
        ["roupas"] = { ['x'] = 1380.26, ['y'] = -545.8, ['z'] = 67.84 },
        ["pia"] = { ['x'] = 1382.11, ['y'] = -545.12, ['z'] = 67.85 },
        ["cama"] = { ['x'] = 1378.68, ['y'] = -544.27, ['z'] = 67.84 },
        ["locker"] = { ['x'] = 1380.66, ['y'] = -544.0, ['z'] = 67.84 },
        ["locker2"] = { ['x'] = 1383.44, ['y'] = -546.63, ['z'] = 67.84 }
    },
	["LS08"] = {
		["invadir"] = { ['x'] = 1355.3, ['y'] = -531.48, ['z'] = 73.9 },
		["evadir"] = { ['x'] =  1351.37, ['y'] = -549.16, ['z'] = 67.84 },
		["gavetas"] = { ['x'] = 1354.98, ['y'] = -538.72, ['z'] = 67.84 },
		["estante"] = { ['x'] = 1360.73, ['y'] = -537.94, ['z'] = 67.84 },
		["cabeceira"] = { ['x'] = 1361.58, ['y'] = -537.75, ['z'] = 67.84 },
		["mesinha"] = { ['x'] = 1362.07, ['y'] = -535.33, ['z'] = 67.84 },
		["televisao"] = { ['x'] = 1362.43, ['y'] = -532.59, ['z'] = 67.84 },
		["armario"] = { ['x'] = 1360.55, ['y'] = -533.4, ['z'] = 67.84  },
		["bau"] = { ['x'] = 1359.02, ['y'] = -531.76, ['z'] = 67.84 },
		["comoda"] = { ['x'] = 1356.82, ['y'] = -531.91, ['z'] = 67.84 },
		["roupas"] = { ['x'] = 1352.55, ['y'] = -532.45, ['z'] = 67.84 },
		["pia"] = { ['x'] = 1349.74, ['y'] = -530.59, ['z'] = 67.84 },
		["cama"] = { ['x'] = 1349.61, ['y'] = -538.04, ['z'] = 67.84 },
		["locker"] = { ['x'] = 1361.17, ['y'] = -531.19, ['z'] = 67.85 },
        ["locker2"] = { ['x'] = 1362.83, ['y'] = -536.38, ['z'] = 67.84 }
    },
    ["LS09"] = {
        ["invadir"] = { ['x'] = 1335.72, ['y'] = -522.55, ['z'] = 72.25 },
        ["evadir"] = { ['x'] = 1329.07, ['y'] = -541.76, ['z'] = 67.84 },
        ["gavetas"] = { ['x'] = 1332.55, ['y'] = -530.88, ['z'] = 67.84 },
        ["estante"] = { ['x'] = 1326.91, ['y'] = -530.82, ['z'] = 67.84 },
        ["cabeceira"] = { ['x'] = 1325.47, ['y'] = -530.08, ['z'] = 67.84 },
        ["mesinha"] = { ['x'] = 1326.65, ['y'] = -523.4, ['z'] = 67.84 },
        ["televisao"] = { ['x'] = 1329.15, ['y'] = -523.83, ['z'] = 67.84 },
        ["armario"] = { ['x'] = 1333.9, ['y'] = -524.47, ['z'] = 67.84 },
        ["bau"] = { ['x'] = 1338.14, ['y'] = -530.2, ['z'] = 67.84 },
        ["comoda"] = { ['x'] = 1338.97, ['y'] = -530.04, ['z'] = 67.84 },
        ["roupas"] = { ['x'] = 1337.74, ['y'] = -525.33, ['z'] = 67.84 },
        ["pia"] = { ['x'] = 1339.55, ['y'] = -524.74, ['z'] = 67.84 },
        ["cama"] = { ['x'] = 1336.14, ['y'] = -523.92, ['z'] = 67.84 },
        ["locker"] = { ['x'] = 1337.97, ['y'] = -523.71, ['z'] = 67.84 },
        ["locker2"] = { ['x'] = 1341.0, ['y'] = -526.08, ['z'] = 67.84 }
    },
	["LS10"] = {
		["invadir"] = { ['x'] = 1308.78, ['y'] = -511.59, ['z'] = 71.47 },
		["evadir"] = { ['x'] =  1306.7, ['y'] = -529.97, ['z'] = 67.84 },
		["gavetas"] = { ['x'] = 1310.1, ['y'] = -519.16, ['z'] = 67.84 },
		["estante"] = { ['x'] = 1316.56, ['y'] = -518.09, ['z'] = 67.84 },
		["cabeceira"] = { ['x'] = 1316.95, ['y'] = -515.47, ['z'] = 67.84 },
		["mesinha"] = { ['x'] = 1317.26, ['y'] = -513.02, ['z'] = 67.84 },
		["televisao"] = { ['x'] = 1315.31, ['y'] = -513.87, ['z'] = 67.84 },
		["armario"] = { ['x'] = 1313.73, ['y'] = -512.23, ['z'] = 67.84  },
		["bau"] = { ['x'] = 1311.84, ['y'] = -511.77, ['z'] = 67.84 },
		["comoda"] = { ['x'] = 1307.05, ['y'] = -513.2, ['z'] = 67.84 },
		["roupas"] = { ['x'] = 1304.29, ['y'] = -511.8, ['z'] = 67.84 },
		["pia"] = { ['x'] = 1304.67, ['y'] = -519.03, ['z'] = 67.84 },
		["cama"] = { ['x'] = 1303.34, ['y'] = -518.2, ['z'] = 67.84 },
		["locker"] = { ['x'] = 1317.56, ['y'] = -517.19, ['z'] = 67.84 },
        ["locker2"] = { ['x'] = 1315.47, ['y'] = -511.51, ['z'] = 68.27 }
    },
    ["LS53"] = {
        ["invadir"] = { ['x'] = 965.68, ['y'] = -608.22, ['z'] = 59.9 },
        ["evadir"] = { ['x'] = 960.84, ['y'] = -593.19, ['z'] = 54.55 },
        ["gavetas"] = { ['x'] = 961.93, ['y'] = -593.21, ['z'] = 54.55 },
        ["estante"] = { ['x'] = 965.52, ['y'] = -592.8, ['z'] = 54.55 },
        ["cabeceira"] = { ['x'] = 966.04, ['y'] = -597.1, ['z'] = 54.55 },
        ["mesinha"] = { ['x'] = 968.3, ['y'] = -598.84, ['z'] = 54.55 },
        ["televisao"] = { ['x'] = 962.28, ['y'] = -599.13, ['z'] = 54.55 },
        ["armario"] = { ['x'] = 958.1, ['y'] = -596.31, ['z'] = 54.55 },
        ["bau"] = { ['x'] = 956.41, ['y'] = -595.29, ['z'] = 54.55 },
        ["comoda"] = { ['x'] = 961.3, ['y'] = -597.48, ['z'] = 54.55 },
        ["roupas"] = { ['x'] = 965.08, ['y'] = -604.04, ['z'] = 54.55 },
        ["pia"] = { ['x'] = 960.85, ['y'] = -601.93, ['z'] = 54.55 },
        ["cama"] = { ['x'] = 964.61, ['y'] = -591.2, ['z'] = 54.55 },
        ["locker"] = { ['x'] = 968.29, ['y'] = -600.84, ['z'] = 54.55 },
        ["locker2"] = { ['x'] = 969.17, ['y'] = -597.76, ['z'] = 54.55 }
    },
	["FAZENDA"] = {
		["invadir"] = { ['x'] = 1409.71, ['y'] = 1146.95, ['z'] = 114.34 },
		["evadir"] = { ['x'] =  1408.81, ['y'] = 1147.51, ['z'] = 114.34 },
		["gavetas"] = { ['x'] = 1406.14, ['y'] = 1149.98, ['z'] = 114.34 },
		["estante"] = { ['x'] = 1399.49, ['y'] = 1147.63, ['z'] = 114.34 },
		["cabeceira"] = { ['x'] = 1399.23, ['y'] = 1161.14, ['z'] = 114.34 },
		["mesinha"] = { ['x'] =1396.75, ['y'] = 1139.83, ['z'] = 114.34 },
		["televisao"] = { ['x'] = 1396.22, ['y'] = 1131.18, ['z'] = 114.34 },
		["armario"] = { ['x'] = 1396.79, ['y'] = 1129.13,114.34  },
		["bau"] = { ['x'] = 1393.1, ['y'] = 1135.0, ['z'] = 114.34 },
		["comoda"] = { ['x'] = 1402.15, ['y'] = 1135.09, ['z'] = 114.34 },
		["roupas"] = { ['x'] = 1393.37, ['y'] = 1149.64, ['z'] = 114.34 },
		["pia"] = { ['x'] = 1391.88, ['y'] = 1147.62, ['z'] = 114.34 },
		["cama"] = { ['x'] = 1393.46, ['y'] = 1144.72, ['z'] = 114.34 },
		["locker"] = { ['x'] = 1400.65, ['y'] = 1143.98, ['z'] = 114.34 },
		["locker2"] = { ['x'] = 1399.1, ['y'] = 1165.8, ['z'] = 114.34 }
	},
	["LX55"] = {
		["invadir"] = { ['x'] = 246.8, ['y'] = 766.55, ['z'] = 203.71 },
		["evadir"] = { ['x'] = 223.82, ['y'] = 749.1, ['z'] = 195.14 },
		["gavetas"] = { ['x'] = 227.18, ['y'] = 756.49, ['z'] = 195.15 },
		["estante"] = { ['x'] = 224.57, ['y'] = 759.66, ['z'] = 195.14 },
		["cabeceira"] = { ['x'] = 238.81, ['y'] = 764.84, ['z'] = 193.74 },
		["mesinha"] = { ['x'] = 240.36, ['y'] = 763.89, ['z'] = 193.74 },
		["televisao"] = { ['x'] = 239.27, ['y'] = 761.6, ['z'] = 193.74 },
		["armario"] = { ['x'] = 238.93, ['y'] = 758.12, ['z'] = 193.74 },
		["bau"] = { ['x'] = 239.06, ['y'] = 765.93, ['z'] = 188.93 },
		["comoda"] = { ['x'] = 241.9, ['y'] = 764.17, ['z'] = 188.93 },
		["roupas"] = { ['x'] = 236.92, ['y'] = 765.46, ['z'] = 188.93 },
		["pia"] = { ['x'] = 232.51, ['y'] = 768.48, ['z'] = 188.93 },
		["cama"] = { ['x'] = 235.04, ['y'] = 767.12, ['z'] = 188.93 },
		["locker"] = { ['x'] = 234.87, ['y'] = 769.38, ['z'] = 188.93 },
		["locker2"] = { ['x'] = 243.61, ['y'] = 762.57, ['z'] = 188.93 }
	},
}
-----------------------------------------------------------------------------------------------------------------------------------------
-- ROUBANDO
-----------------------------------------------------------------------------------------------------------------------------------------
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(1)
		local ped = PlayerPedId()
		local x,y,z = table.unpack(GetEntityCoords(ped))
		for k,v in pairs(houses) do
			if not roubando then
				local bowz,cdz = GetGroundZFor_3dCoord(v["invadir"].x,v["invadir"].y,v["invadir"].z)
				local distance = GetDistanceBetweenCoords(v["invadir"].x,v["invadir"].y,cdz,x,y,z,true)
				if distance <= 2.5 then
					DrawText3Ds(v["invadir"].x,v["invadir"].y,v["invadir"].z,"~g~E ~w~  INVADIR")
					if distance <= 1.1 then
						if IsControlJustPressed(0,38) then
							CoordenadasX = v["invadir"].x
							CoordenadasY = v["invadir"].y
							CoordenadasZ = v["invadir"].z
							vSERVER.checkLockpick(k,v["evadir"].x,v["evadir"].y,v["evadir"].z,v["locker"].x,v["locker"].y,v["locker"].z)
						end
					end
				end
			else
				local bowz,cdz = GetGroundZFor_3dCoord(v["evadir"].x,v["evadir"].y,v["evadir"].z)
				local distance = GetDistanceBetweenCoords(v["evadir"].x,v["evadir"].y,cdz,x,y,z,true)
				if distance <= 2.5 then
					DrawText3Ds(v["evadir"].x,v["evadir"].y,v["evadir"].z,"~g~E ~w~  EVADIR")
					if distance <= 1.1 then
						if IsControlJustPressed(0,38) then
							if DoesEntityExist(locker) then
								TriggerServerEvent("trydeleteobj",ObjToNet(locker))
								locker = nil
							end
							roubando = false
							check = {}
							vRP._teleport(v["invadir"].x,v["invadir"].y,v["invadir"].z)
						end
					end
				end
				for j,w in pairs(v) do
					if j ~= "invadir" and j ~= "evadir" and j ~= "locker" then
						bowz,cdz = GetGroundZFor_3dCoord(w.x,w.y,w.z)
						distance = GetDistanceBetweenCoords(w.x,w.y,cdz,x,y,z,true)
						if distance <= 2.5 and not check[j] then
							DrawText3Ds(w.x,w.y,w.z,"~g~E ~w~ SEARCH")
							if distance <= 1.1 then
								if IsControlJustPressed(0,38) then
									check[j] = true
									TriggerEvent('cancelando',true)
									vRP._playAnim(false,{{"amb@medic@standing@tendtodead@idle_a","idle_a"}},true)
									TriggerEvent("progress",20000,"vasculhando")
									SetTimeout(20000,function()
										if j == "locker2" and DoesEntityExist(locker) then
											TriggerServerEvent("trydeleteobj",ObjToNet(locker))
											locker = nil
										end
										TriggerEvent('cancelando',false)
										vRP._stopAnim(false)
										vSERVER.checkPayment(k,j,v["invadir"].x,v["invadir"].y,v["invadir"].z)
									end)
								end
							end
						end
					end
				end
			end
		end
	end
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- SEGUNDOS
-----------------------------------------------------------------------------------------------------------------------------------------
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(1000)
		if segundos > 0 and roubando then
			segundos = segundos - 1
			if segundos == 0 then
				if DoesEntityExist(locker) then
					TriggerServerEvent("trydeleteobj",ObjToNet(locker))
					locker = nil
				end
				roubando = false
				check = {}
				vRP._teleport(CoordenadasX,CoordenadasY,CoordenadasZ)
				TriggerEvent("Notify","negado","Tempo do roubo se esgotou.",8000)
			end
		end
	end
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- INICIADO
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNetEvent("iniciandoRoubo")
AddEventHandler("iniciandoRoubo",function(x,y,z)
	SetEntityCoords(PlayerPedId(),x,y,z-1,false,false,false,false)
	TriggerEvent("global:getMochilaRoubo")
end)

AddEventHandler('animacao:vasculhar',function(isPlay)
	if isPlay then
		TriggerEvent('cancelando',true)
		vRP._playAnim(true,{{"amb@prop_human_parking_meter@female@idle_a","idle_a_female"}},true)
	else
		TriggerEvent('cancelando',false)
		ClearPedTasks(PlayerPedId())
	end
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- FUNÇÕES
-----------------------------------------------------------------------------------------------------------------------------------------
function DrawText3Ds(x,y,z,text)
	local onScreen,_x,_y = World3dToScreen2d(x,y,z)
	SetTextFont(4)
	SetTextScale(0.35,0.35)
	SetTextColour(255,255,255,150)
	SetTextEntry("STRING")
	SetTextCentre(1)
	AddTextComponentString(text)
	DrawText(_x,_y)
	local factor = (string.len(text))/370
	DrawRect(_x,_y+0.0125,0.01+factor,0.03,0,0,0,80)
end

function src.checkStatus(status)
	roubando = status
end

function src.createLocker(status,x,y,z)
	segundos = 900
	if DoesEntityExist(locker) then
		TriggerServerEvent("trydeleteobj",ObjToNet(locker))
		locker = nil
	end
	if status then
		locker = CreateObject(GetHashKey("prop_ld_int_safe_01"),x,y,z,true,false,false)
		FreezeEntityPosition(locker,true)
		SetEntityHeading(locker,150.56)
	else
		locker = nil
		check["locker2"] = true
	end
end